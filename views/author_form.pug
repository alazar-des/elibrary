extends layout 

block content 
  h1= title 

  form(method="POST" action="") 
    .form-group 
      label(for="first_name") First Name: 
      input#first_name.form-control(type="text" name="first_name" placeholder="First name" value = author == undefined ? "" : author.first_name)

    .form-group 
      label(for="family_name") Family Name: 
      input#first_name.form-control(type="text" name="family_name" placeholder="Family name" value = author == undefined ? "" : author.family_name)

    .form-group 
      label(for="date_of_birth") Date of Birth: 
      - let fullYear = ""
      - let month = ""
      - let date = ""
      - if (!(author == undefined || author.date_of_birth == undefined))
        - fullYear =  author.date_of_birth.getFullYear()
        - month = author.date_of_birth.getMonth() + 1
        - month = month < 10 ? "0" + month : month 
        - date = author.date_of_birth.getDate()
        - date = date < 10 ? "0" + date : date
      - let date_of_birth = fullYear + "-" + month  + "-" + date;
      - console.log(date_of_birth)
      input#date_of_birth.form-control(type="date" name="date_of_birth" placeholder="dd/mm/yy" value=date_of_birth)

    .form-group 
      label(for="date_of_death") Date of Birth: 
      - fullYear = ""
      - month = ""
      - date = ""
      - if (!(author == undefined || author.date_of_death == undefined))
        - fullYear =  author.date_of_death.getFullYear()
        - month = author.date_of_death.getMonth() + 1
        - month = month < 10 ? "0" + month : month 
        - date = author.date_of_death.getDate()
        - date = date < 10 ? "0" + date : date
      - let date_of_death = fullYear + "-" + month  + "-" + date;
      - console.log(date_of_death)
      input#date_of_death.form-control(type="date" name="date_of_death" placeholder="dd/mm/yy" value=date_of_death)

    button.btn.btn-primary(type="submit") Submit 

  if errors 
    ul 
      for error in errors 
        li!= error.msg 
